<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Abel Experience™ - Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom scrollbar for a more futuristic feel (optional) */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #1f2937; /* gray-800 */
      }
      ::-webkit-scrollbar-thumb {
        background: #14b8a6; /* teal-500 */
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #0d9488; /* teal-600 */
      }
      /* Basic pulse animation for demonstration */
      @keyframes pulse-soft {
        0%,
        100% {
          opacity: 1;
          box-shadow: 0 0 3px #14b8a6;
        }
        50% {
          opacity: 0.7;
          box-shadow: 0 0 10px #14b8a6, 0 0 5px #14b8a6 inset;
        }
      }
      .animate-pulse-soft {
        animation: pulse-soft 2s infinite;
      }
      .pokemon-card {
        min-height: 120px; /* Ensure cards have some height */
      }
    </style>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "gray-900": "#111827",
              "gray-800": "#1F2937",
              "gray-700": "#374151",
              "gray-600": "#4B5563",
              "gray-500": "#6B7280",
              "gray-400": "#9CA3AF",
              teal: {
                DEFAULT: "#14B8A6",
                400: "#2DD4BF",
                500: "#14B8A6",
                600: "#0D9488",
              },
              success: "#22C55E", // green-500
              danger: "#EF4444", // red-500
              warning: "#F59E0B", // amber-500
              "variant-shiny": "#FBBF24", // amber-400
              "variant-dark": "#52525B", // zinc-600
              "variant-steel": "#A1A1AA", // zinc-400
              "variant-mystic": "#8B5CF6", // violet-500
              "variant-shadow": "#3F3F46", // zinc-700
              legendary: "#F472B6", // pink-400
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-900 text-white font-sans antialiased">
    <div class="flex h-screen overflow-hidden">
      <aside
        id="sidebar"
        class="w-64 bg-gray-900 border-r border-gray-800/50 flex-shrink-0 overflow-y-auto p-4 space-y-6 transition-all duration-300"
      >
        <div
          class="flex items-center space-x-2 text-2xl font-semibold text-teal-400 px-2 py-3"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-teal-400"
          >
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
          </svg>
          <span>TaXP™ OS</span>
        </div>

        <div>
          <h3
            class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2"
          >
            App Interface
          </h3>
          <nav class="space-y-1">
            <a
              href="#"
              data-tab="dashboard"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md bg-teal-500/20 text-teal-400 border-l-4 border-teal-400"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
              </svg>
              Dashboard
            </a>
            <a
              href="#"
              data-tab="analytics"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <line x1="18" y1="20" x2="18" y2="10"></line>
                <line x1="12" y1="20" x2="12" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="14"></line>
              </svg>
              Analytics
            </a>
            <a
              href="#"
              data-tab="greentexts"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <path
                  d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                ></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="9" y1="15" x2="15" y2="15"></line>
                <line x1="9" y1="19" x2="15" y2="19"></line>
              </svg>
              Greentexts
            </a>
          </nav>
        </div>

        <div>
          <h3
            class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2"
          >
            UI/UX Components
          </h3>
          <nav class="space-y-1">
            <a
              href="#"
              data-tab="widgets"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="3" y1="9" x2="21" y2="9"></line>
                <line x1="9" y1="21" x2="9" y2="9"></line>
              </svg>
              Widgets
            </a>
            <a
              href="#"
              data-tab="ai-studio"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <path d="M12 8V4H8"></path>
                <rect x="4" y="4" width="16" height="16"></rect>
                <path d="M4 12h4"></path>
                <path d="M12 20v-4"></path>
                <path d="M16 12h4"></path>
                <path d="M20 16v4h-4"></path>
              </svg>
              AI Studio
            </a>
            <a
              href="#"
              data-tab="security"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
              </svg>
              Security
            </a>
            <a
              href="#"
              data-tab="forms"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <path
                  d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"
                ></path>
              </svg>
              Forms
            </a>
          </nav>
        </div>

        <div>
          <h3
            class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2"
          >
            User Portal
          </h3>
          <nav class="space-y-1">
            <a
              href="#"
              data-tab="profile"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Profile
            </a>
            <a
              href="#"
              data-tab="habit-tracker"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <polyline points="9 11 12 14 22 4"></polyline>
                <path
                  d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"
                ></path>
              </svg>
              Habit Tracker
            </a>
            <a
              href="#"
              data-tab="pokedex"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <path
                  d="M8.5 8.5a3 3 0 0 0-3 3V20a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V20a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V11.5a3 3 0 0 0-3-3h-5Z"
                ></path>
                <path d="M8.5 8.5V6.5a3 3 0 0 1 3-3h0a3 3 0 0 1 3 3V8.5"></path>
                <path d="M12 14s-1-2-3-2"></path>
                <path d="M12 14s1-2 3-2"></path>
              </svg>
              Pokédex
            </a>
            <a
              href="#"
              data-tab="settings"
              class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium rounded-md text-gray-400 hover:bg-gray-800/70 hover:text-teal-400 transition-all duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="mr-3"
              >
                <path
                  d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 .54 1.73l.04.55a2 2 0 0 1-1.73 1L4.7 19.5a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V22a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-.54-1.73l-.04-.55a2 2 0 0 1 1.73-1L19.3 4.5a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2z"
                ></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              Settings
            </a>
          </nav>
        </div>
      </aside>

      <main class="flex-1 flex flex-col overflow-hidden">
        <header
          class="bg-gray-900/70 backdrop-blur-md border-b border-gray-800/50 p-4 flex items-center justify-between flex-shrink-0"
        >
          <div class="flex items-center">
            <div class="relative">
              <input
                type="search"
                placeholder="Search..."
                class="bg-gray-800 border border-gray-700 text-gray-300 placeholder-gray-500 rounded-md py-2 pl-10 pr-4 focus:ring-teal-500 focus:border-teal-500 focus:outline-none transition-all duration-300 w-64"
              />
              <div
                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-gray-500"
                >
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
              </div>
            </div>
          </div>
          <div class="flex items-center space-x-6">
            <div class="text-right">
              <p class="text-sm text-gray-400">Total Revenue</p>
              <p class="text-xl font-semibold text-teal-400">$1,850,050.12</p>
            </div>
            <div class="h-8 w-px bg-gray-700"></div>
            <div>
              <p class="text-sm font-medium text-white">ADMIN@ABEL.COM</p>
              <p class="text-xs text-gray-500">
                Administrator Lv. <span id="user-level-header">5</span>
              </p>
            </div>
            <button
              class="p-2 rounded-full hover:bg-gray-800/70 transition-colors duration-300"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-gray-400"
              >
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
              </svg>
            </button>
          </div>
        </header>

        <div
          id="page-content"
          class="flex-1 overflow-y-auto p-6 space-y-6 bg-gray-900"
        >
          <div id="dashboard-view" class="space-y-6">
            <h2 class="text-2xl font-semibold text-white">Dashboard</h2>
            <div
              class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6"
            >
              <div
                class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-5 rounded-lg shadow-lg hover:shadow-teal-500/20 transition-all duration-300"
              >
                <div class="flex items-center justify-between">
                  <div class="p-3 rounded-full bg-teal-500/20">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="text-teal-400"
                    >
                      <path
                        d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                      ></path>
                      <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                  </div>
                  <div class="text-right">
                    <p class="text-3xl font-bold text-white">1.2M</p>
                    <p class="text-sm text-gray-400">Page Views</p>
                  </div>
                </div>
                <div class="mt-4 flex items-center text-sm">
                  <span class="text-success flex items-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="3"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="mr-1"
                    >
                      <polyline points="17 11 12 6 7 11"></polyline>
                      <polyline points="17 18 12 13 7 18"></polyline>
                    </svg>
                    12.5%
                  </span>
                  <span class="text-gray-500 ml-1">vs last month</span>
                </div>
              </div>
            </div>
          </div>

          <div id="widgets-view" class="space-y-6 hidden">
            <h2 class="text-2xl font-semibold text-white">
              System Widgets & Monitoring
            </h2>
          </div>

          <div id="greentexts-view" class="space-y-6 hidden">
            <h2 class="text-2xl font-semibold text-white">
              Greentext Management
            </h2>
          </div>

          <div id="analytics-view" class="hidden space-y-6">
            <h2 class="text-2xl font-semibold text-white">
              Analytics View Content
            </h2>
          </div>
          <div id="ai-studio-view" class="hidden space-y-6">
            <h2 class="text-2xl font-semibold text-white">
              AI Studio View Content
            </h2>
          </div>
          <div id="forms-view" class="hidden space-y-6">
            <h2 class="text-2xl font-semibold text-white">
              Forms View Content
            </h2>
          </div>
          <div id="settings-view" class="hidden space-y-6">
            <h2 class="text-2xl font-semibold text-white">
              Settings View Content
            </h2>
          </div>

          <div id="profile-view" class="space-y-6 hidden">
            <h2 class="text-2xl font-semibold text-white">
              User Profile: ADMIN@ABEL.COM
            </h2>
            <div
              class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-6 rounded-lg shadow-lg"
            >
              <h3 class="text-xl font-semibold text-white mb-4">
                Level & Experience
              </h3>
              <div class="mb-2">
                <span class="text-lg font-bold text-teal-400"
                  >Level: <span id="profile-user-level">5</span></span
                >
                <span class="text-sm text-gray-400 ml-4"
                  >Experience: <span id="profile-user-xp">1250</span> /
                  <span id="profile-user-next-xp">2000</span> XP</span
                >
              </div>
              <div class="w-full bg-gray-700 rounded-full h-4">
                <div
                  id="profile-xp-bar"
                  class="bg-teal-500 h-4 rounded-full transition-all duration-500"
                  style="width: 62.5%"
                ></div>
              </div>
              <p class="text-xs text-gray-500 mt-2">
                Complete habits and achieve streaks to gain XP!
              </p>
              <div class="mt-4">
                <h4 class="text-md font-semibold text-gray-300">
                  Pokemon Tokens:
                  <span id="profile-pokemon-tokens" class="text-teal-400"
                    >3</span
                  >
                </h4>
              </div>
            </div>

            <div
              class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-6 rounded-lg shadow-lg"
            >
              <h3 class="text-xl font-semibold text-white mb-4">
                My Displayed Pokémon (Party)
              </h3>
              <div
                id="displayed-pokemon-slots"
                class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4"
              >
                <div
                  class="pokemon-card bg-gray-700/50 p-4 rounded-lg border border-gray-600/70 text-center hover:border-teal-500/50 transition-all"
                >
                  <div
                    class="w-16 h-16 bg-gray-600 rounded-full mx-auto mb-2 flex items-center justify-center text-gray-500 text-xs"
                  >
                    [IMG]
                  </div>
                  <p class="font-semibold text-white">Bulbasaur</p>
                  <p class="text-xs text-gray-400">Normal</p>
                </div>
                <div
                  class="pokemon-card bg-gray-700/50 p-4 rounded-lg border border-gray-600/70 text-center hover:border-teal-500/50 transition-all"
                >
                  <div
                    class="w-16 h-16 bg-gray-600 rounded-full mx-auto mb-2 flex items-center justify-center text-gray-500 text-xs"
                  >
                    [IMG]
                  </div>
                  <p class="font-semibold text-white">Pikachu</p>
                  <p class="text-xs text-variant-shiny">Shiny ✨</p>
                </div>
                <div
                  class="pokemon-card bg-gray-700/30 p-4 rounded-lg border-2 border-dashed border-gray-600/70 text-center flex flex-col items-center justify-center text-gray-500 hover:border-teal-500/50 transition-all"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="w-8 h-8 mb-1"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="16"></line>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                  <p class="text-xs">Empty Slot</p>
                </div>
                <div
                  class="pokemon-card bg-gray-700/30 p-4 rounded-lg border-2 border-dashed border-gray-600/70 text-center flex flex-col items-center justify-center text-gray-500 hover:border-teal-500/50 transition-all"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="w-8 h-8 mb-1"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="16"></line>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                  <p class="text-xs">Empty Slot</p>
                </div>
                <div
                  class="pokemon-card bg-gray-700/30 p-4 rounded-lg border-2 border-dashed border-gray-600/70 text-center flex flex-col items-center justify-center text-gray-500 hover:border-teal-500/50 transition-all"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="w-8 h-8 mb-1"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="16"></line>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                  <p class="text-xs">Empty Slot</p>
                </div>
                <div
                  class="pokemon-card bg-gray-700/30 p-4 rounded-lg border-2 border-dashed border-gray-600/70 text-center flex flex-col items-center justify-center text-gray-500 hover:border-teal-500/50 transition-all"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="w-8 h-8 mb-1"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="16"></line>
                    <line x1="8" y1="12" x2="16" y2="12"></line>
                  </svg>
                  <p class="text-xs">Empty Slot</p>
                </div>
              </div>
              <p class="text-xs text-gray-500 mt-4 text-center">
                Visit your Pokédex to manage your party.
              </p>
            </div>
          </div>

          <div id="habit-tracker-view" class="space-y-6 hidden">
            <div class="flex justify-between items-center">
              <h2 class="text-2xl font-semibold text-white">Habit Tracker</h2>
              <div class="text-right">
                <p class="text-md text-gray-300">
                  Pokemon Tokens:
                  <span
                    id="habit-pokemon-tokens"
                    class="text-teal-400 font-bold"
                    >3</span
                  >
                </p>
                <p class="text-xs text-gray-500">
                  Complete habits for XP & Tokens!
                </p>
              </div>
            </div>

            <div
              class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-6 rounded-lg shadow-lg"
            >
              <h3 class="text-xl font-semibold text-white mb-4">
                Add New Habit
              </h3>
              <form id="add-habit-form" class="flex items-center space-x-3">
                <input
                  type="text"
                  id="new-habit-name"
                  placeholder="e.g., Exercise for 30 minutes"
                  class="flex-grow bg-gray-700 border border-gray-600 text-white rounded-md p-2.5 focus:ring-teal-500 focus:border-teal-500 transition-colors duration-300"
                />
                <button
                  type="submit"
                  class="bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2.5 px-5 rounded-md transition-colors duration-300 flex items-center"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="mr-2"
                  >
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                  </svg>
                  Add Habit
                </button>
              </form>
            </div>

            <div id="habits-list" class="space-y-4">
              <div
                class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-4 rounded-lg shadow-md flex items-center justify-between hover:border-teal-500/30 transition-all"
              >
                <div>
                  <h4 class="text-lg font-medium text-white">
                    Read for 15 minutes
                  </h4>
                  <p class="text-sm text-gray-400">
                    Current Streak: <span class="text-teal-400">5 days</span> 🔥
                  </p>
                </div>
                <button
                  class="mark-habit-complete bg-success/80 hover:bg-success text-white font-semibold py-2 px-4 rounded-md transition-colors duration-300 text-sm"
                  data-habit-id="1"
                >
                  Complete Today
                </button>
              </div>
              <div
                class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-4 rounded-lg shadow-md flex items-center justify-between opacity-70"
              >
                <div>
                  <h4 class="text-lg font-medium text-gray-300">
                    Meditate for 10 minutes ✅
                  </h4>
                  <p class="text-sm text-gray-500">
                    Current Streak:
                    <span class="text-teal-500">12 days</span> 🔥 (Completed)
                  </p>
                </div>
                <button
                  class="bg-gray-600 text-gray-400 font-semibold py-2 px-4 rounded-md text-sm cursor-not-allowed"
                  disabled
                >
                  Completed
                </button>
              </div>
              <div
                class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-4 rounded-lg shadow-md flex items-center justify-between hover:border-teal-500/30 transition-all"
              >
                <div>
                  <h4 class="text-lg font-medium text-white">No Sugar Today</h4>
                  <p class="text-sm text-gray-400">
                    Current Streak: <span class="text-teal-400">2 days</span> 🔥
                  </p>
                </div>
                <button
                  class="mark-habit-complete bg-success/80 hover:bg-success text-white font-semibold py-2 px-4 rounded-md transition-colors duration-300 text-sm"
                  data-habit-id="3"
                >
                  Complete Today
                </button>
              </div>
            </div>
          </div>

          <div id="pokedex-view" class="space-y-6 hidden">
            <div class="flex justify-between items-center">
              <h2 class="text-2xl font-semibold text-white">
                Pokédex & Rewards
              </h2>
              <div class="text-right">
                <p class="text-md text-gray-300">
                  Tokens:
                  <span
                    id="pokedex-pokemon-tokens"
                    class="text-teal-400 font-bold"
                    >3</span
                  >
                </p>
              </div>
            </div>

            <div
              class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-6 rounded-lg shadow-lg"
            >
              <h3 class="text-xl font-semibold text-white mb-2">
                Summon Pokémon
              </h3>
              <p class="text-sm text-gray-400 mb-4">
                Exchange 1 Pokemon Token for a chance to get a new Pokémon (Gen
                1-6, lowest evolution).
              </p>
              <div class="flex items-center space-x-4 mb-4">
                <button
                  id="exchange-token-button"
                  class="bg-teal-500 hover:bg-teal-600 text-white font-bold py-3 px-6 rounded-md transition-colors duration-300 text-lg"
                >
                  Exchange 1 Token <span class="text-xs">(Cost: 1)</span>
                </button>
                <p class="text-xs text-gray-500">
                  Odds: <span class="text-legendary">5% Legendary</span>,
                  <span class="text-variant-shiny">1% Variant</span> (Shiny,
                  Dark, etc.)
                </p>
              </div>
              <div
                id="last-obtained-pokemon"
                class="mt-4 p-4 bg-gray-700/60 rounded-md hidden"
              >
                <h4 class="text-md font-semibold text-teal-300 mb-1">
                  You obtained:
                </h4>
                <div id="obtained-pokemon-details" class="flex items-center">
                  <div
                    class="w-12 h-12 bg-gray-600 rounded-md mr-3 flex items-center justify-center text-gray-400 text-xs"
                  >
                    [IMG]
                  </div>
                  <div>
                    <p class="text-lg font-bold text-white">[Pokémon Name]</p>
                    <p class="text-sm text-gray-400">[Type/Variant]</p>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 p-6 rounded-lg shadow-lg"
            >
              <h3 class="text-xl font-semibold text-white mb-4">
                My Pokémon Collection (<span id="total-pokemon-count">2</span>)
              </h3>
              <div
                id="pokemon-collection-grid"
                class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"
              >
                <div
                  class="pokemon-card bg-gray-700/50 p-3 rounded-lg border border-gray-600/70 text-center relative group"
                >
                  <div
                    class="w-20 h-20 bg-gray-600 rounded-full mx-auto mb-2 flex items-center justify-center text-gray-500 text-sm"
                  >
                    [IMG]
                  </div>
                  <p class="font-semibold text-white text-sm">Bulbasaur</p>
                  <p class="text-xs text-gray-400">Normal</p>
                  <button
                    class="absolute top-2 right-2 text-xs bg-teal-600 hover:bg-teal-500 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity"
                  >
                    Set Display
                  </button>
                </div>
                <div
                  class="pokemon-card bg-gray-700/50 p-3 rounded-lg border border-variant-shiny/50 text-center relative group"
                >
                  <div
                    class="w-20 h-20 bg-gray-600 rounded-full mx-auto mb-2 flex items-center justify-center text-gray-500 text-sm"
                  >
                    [IMG]
                  </div>
                  <p class="font-semibold text-white text-sm">Pikachu</p>
                  <p class="text-xs text-variant-shiny">Shiny ✨</p>
                  <button
                    class="absolute top-2 right-2 text-xs bg-teal-600 hover:bg-teal-500 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity"
                  >
                    Set Display
                  </button>
                </div>
                <div
                  class="pokemon-card bg-gray-700/50 p-3 rounded-lg border border-legendary/50 text-center relative group"
                >
                  <div
                    class="w-20 h-20 bg-gray-600 rounded-full mx-auto mb-2 flex items-center justify-center text-gray-500 text-sm"
                  >
                    [IMG]
                  </div>
                  <p class="font-semibold text-white text-sm">Mew</p>
                  <p class="text-xs text-legendary">Legendary</p>
                  <button
                    class="absolute top-2 right-2 text-xs bg-teal-600 hover:bg-teal-500 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity"
                  >
                    Set Display
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script>
      // --- STATE (Simulated - In React, this would be managed with useState/useReducer) ---
      let userProfile = {
        level: 5,
        xp: 1250,
        xpToNextLevel: 2000,
        pokemonTokens: 300,
        habits: [
          {
            id: 1,
            name: "Read for 15 minutes",
            streak: 5,
            completedToday: false,
          },
          {
            id: 2,
            name: "Meditate for 10 minutes",
            streak: 12,
            completedToday: true,
          },
          { id: 3, name: "No Sugar Today", streak: 2, completedToday: false },
        ],
        pokemonCollection: [
          {
            id: "p001",
            name: "Bulbasaur",
            speciesId: 1,
            variant: "Normal",
            isLegendary: false,
            displayed: true,
            slot: 1,
            imagePlaceholder: "[IMG]",
          },
          {
            id: "p002",
            name: "Pikachu",
            speciesId: 25,
            variant: "Shiny",
            isLegendary: false,
            displayed: true,
            slot: 2,
            imagePlaceholder: "[IMG]",
          },
          {
            id: "p003",
            name: "Mew",
            speciesId: 151,
            variant: "Normal",
            isLegendary: true,
            displayed: false,
            imagePlaceholder: "[IMG]",
          },
        ],
        displayedPokemonSlots: [null, null, null, null, null, null], // 6 slots
      };
      // Initialize displayedPokemonSlots based on collection
      userProfile.pokemonCollection.forEach((p) => {
        if (p.displayed && p.slot >= 1 && p.slot <= 6) {
          userProfile.displayedPokemonSlots[p.slot - 1] = p;
        }
      });

      // --- DOM Elements ---
      const navLinks = document.querySelectorAll(".nav-link");
      const pageContents = {
        dashboard: document.getElementById("dashboard-view"),
        widgets: document.getElementById("widgets-view"),
        greentexts: document.getElementById("greentexts-view"),
        analytics: document.getElementById("analytics-view"),
        "ai-studio": document.getElementById("ai-studio-view"),
        forms: document.getElementById("forms-view"),
        profile: document.getElementById("profile-view"),
        "habit-tracker": document.getElementById("habit-tracker-view"),
        pokedex: document.getElementById("pokedex-view"),
        settings: document.getElementById("settings-view"),
      };
      // Profile View Elements
      const profileUserLevel = document.getElementById("profile-user-level");
      const profileUserXP = document.getElementById("profile-user-xp");
      const profileUserNextXP = document.getElementById("profile-user-next-xp");
      const profileXPBar = document.getElementById("profile-xp-bar");
      const profilePokemonTokens = document.getElementById(
        "profile-pokemon-tokens"
      );
      const displayedPokemonSlotsContainer = document.getElementById(
        "displayed-pokemon-slots"
      );
      const userLevelHeader = document.getElementById("user-level-header");

      // Habit Tracker Elements
      const addHabitForm = document.getElementById("add-habit-form");
      const newHabitNameInput = document.getElementById("new-habit-name");
      const habitsListContainer = document.getElementById("habits-list");
      const habitPokemonTokensDisplay = document.getElementById(
        "habit-pokemon-tokens"
      );

      // Pokédex Elements
      const pokedexPokemonTokensDisplay = document.getElementById(
        "pokedex-pokemon-tokens"
      );
      const exchangeTokenButton = document.getElementById(
        "exchange-token-button"
      );
      const lastObtainedPokemonDiv = document.getElementById(
        "last-obtained-pokemon"
      );
      const obtainedPokemonDetailsDiv = document.getElementById(
        "obtained-pokemon-details"
      );
      const pokemonCollectionGrid = document.getElementById(
        "pokemon-collection-grid"
      );
      const totalPokemonCountDisplay = document.getElementById(
        "total-pokemon-count"
      );

      // --- UI Update Functions ---
      function updateProfileUI() {
        if (profileUserLevel) profileUserLevel.textContent = userProfile.level;
        if (userLevelHeader) userLevelHeader.textContent = userProfile.level;
        if (profileUserXP) profileUserXP.textContent = userProfile.xp;
        if (profileUserNextXP)
          profileUserNextXP.textContent = userProfile.xpToNextLevel;
        if (profileXPBar)
          profileXPBar.style.width = `${
            (userProfile.xp / userProfile.xpToNextLevel) * 100
          }%`;
        if (profilePokemonTokens)
          profilePokemonTokens.textContent = userProfile.pokemonTokens;

        // Update displayed Pokemon slots
        if (displayedPokemonSlotsContainer) {
          displayedPokemonSlotsContainer.innerHTML = ""; // Clear existing
          for (let i = 0; i < 6; i++) {
            const pokemon = userProfile.displayedPokemonSlots[i];
            const slotDiv = document.createElement("div");
            slotDiv.classList.add(
              "pokemon-card",
              "p-4",
              "rounded-lg",
              "text-center",
              "transition-all"
            );
            if (pokemon) {
              slotDiv.classList.add(
                "bg-gray-700/50",
                "border",
                "border-gray-600/70",
                "hover:border-teal-500/50"
              );
              let variantColorClass = "text-gray-400";
              if (pokemon.isLegendary) variantColorClass = "text-legendary";
              else if (pokemon.variant !== "Normal")
                variantColorClass = `text-variant-${pokemon.variant.toLowerCase()}`;

              slotDiv.innerHTML = `
                            <div class="w-16 h-16 bg-gray-600 rounded-full mx-auto mb-2 flex items-center justify-center text-gray-500 text-xs">${
                              pokemon.imagePlaceholder || "[IMG]"
                            }</div>
                            <p class="font-semibold text-white text-sm truncate">${
                              pokemon.name
                            }</p>
                            <p class="text-xs ${variantColorClass}">${
                pokemon.variant
              }${pokemon.isLegendary ? " (Legendary)" : ""}</p>
                        `;
            } else {
              slotDiv.classList.add(
                "bg-gray-700/30",
                "border-2",
                "border-dashed",
                "border-gray-600/70",
                "flex",
                "flex-col",
                "items-center",
                "justify-center",
                "text-gray-500",
                "hover:border-teal-500/50"
              );
              slotDiv.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8 mb-1"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>
                            <p class="text-xs">Empty Slot</p>
                        `;
            }
            displayedPokemonSlotsContainer.appendChild(slotDiv);
          }
        }
      }

      function updateHabitTrackerUI() {
        if (habitPokemonTokensDisplay)
          habitPokemonTokensDisplay.textContent = userProfile.pokemonTokens;
        if (habitsListContainer) {
          habitsListContainer.innerHTML = ""; // Clear existing habits
          userProfile.habits.forEach((habit) => {
            const habitDiv = document.createElement("div");
            habitDiv.classList.add(
              "bg-gray-800/50",
              "backdrop-blur-sm",
              "border",
              "border-gray-700/50",
              "p-4",
              "rounded-lg",
              "shadow-md",
              "flex",
              "items-center",
              "justify-between",
              "transition-all"
            );
            if (!habit.completedToday) {
              habitDiv.classList.add("hover:border-teal-500/30");
            } else {
              habitDiv.classList.add("opacity-70");
            }

            habitDiv.innerHTML = `
                        <div>
                            <h4 class="text-lg font-medium ${
                              habit.completedToday
                                ? "text-gray-300"
                                : "text-white"
                            }">${habit.name} ${
              habit.completedToday ? "✅" : ""
            }</h4>
                            <p class="text-sm ${
                              habit.completedToday
                                ? "text-gray-500"
                                : "text-gray-400"
                            }">Current Streak: <span class="${
              habit.completedToday ? "text-teal-500" : "text-teal-400"
            }">${habit.streak} days</span> 🔥 ${
              habit.completedToday ? "(Completed)" : ""
            }</p>
                        </div>
                        <button 
                            class="mark-habit-complete ${
                              habit.completedToday
                                ? "bg-gray-600 text-gray-400 cursor-not-allowed"
                                : "bg-success/80 hover:bg-success text-white"
                            } font-semibold py-2 px-4 rounded-md transition-colors duration-300 text-sm" 
                            data-habit-id="${habit.id}" 
                            ${habit.completedToday ? "disabled" : ""}>
                            ${
                              habit.completedToday
                                ? "Completed"
                                : "Complete Today"
                            }
                        </button>
                    `;
            habitsListContainer.appendChild(habitDiv);
          });
          // Add event listeners to new buttons
          document
            .querySelectorAll(".mark-habit-complete")
            .forEach((button) => {
              if (!button.disabled) {
                button.addEventListener("click", handleHabitComplete);
              }
            });
        }
      }

      function updatePokedexUI() {
        if (pokedexPokemonTokensDisplay)
          pokedexPokemonTokensDisplay.textContent = userProfile.pokemonTokens;
        if (totalPokemonCountDisplay)
          totalPokemonCountDisplay.textContent =
            userProfile.pokemonCollection.length;
        if (pokemonCollectionGrid) {
          pokemonCollectionGrid.innerHTML = ""; // Clear existing
          userProfile.pokemonCollection.forEach((pokemon) => {
            const cardDiv = document.createElement("div");
            cardDiv.classList.add(
              "pokemon-card",
              "bg-gray-700/50",
              "p-3",
              "rounded-lg",
              "border",
              "text-center",
              "relative",
              "group"
            );

            let borderColorClass = "border-gray-600/70";
            let variantColorClass = "text-gray-400";

            if (pokemon.isLegendary) {
              borderColorClass = "border-legendary/50";
              variantColorClass = "text-legendary";
            } else if (pokemon.variant !== "Normal") {
              borderColorClass = `border-variant-${pokemon.variant.toLowerCase()}/50`;
              variantColorClass = `text-variant-${pokemon.variant.toLowerCase()}`;
            }
            cardDiv.classList.add(borderColorClass);

            const isDisplayed = userProfile.displayedPokemonSlots.some(
              (p) => p && p.id === pokemon.id
            );

            cardDiv.innerHTML = `
                        <div class="w-20 h-20 bg-gray-600 rounded-full mx-auto mb-2 flex items-center justify-center text-gray-500 text-sm">${
                          pokemon.imagePlaceholder || "[IMG]"
                        }</div>
                        <p class="font-semibold text-white text-sm truncate">${
                          pokemon.name
                        }</p>
                        <p class="text-xs ${variantColorClass}">${
              pokemon.variant
            }${pokemon.isLegendary ? " (Legendary)" : ""}</p>
                        <button 
                            class="set-display-pokemon absolute top-2 right-2 text-xs ${
                              isDisplayed
                                ? "bg-teal-700 cursor-not-allowed"
                                : "bg-teal-600 hover:bg-teal-500"
                            } text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity" 
                            data-pokemon-id="${pokemon.id}"
                            ${
                              isDisplayed
                                ? 'disabled title="Already in party"'
                                : 'title="Add to party"'
                            }>
                            ${isDisplayed ? "In Party" : "To Party"}
                        </button>
                    `;
            pokemonCollectionGrid.appendChild(cardDiv);
          });
          // Add event listeners for "Set Display" buttons
          document
            .querySelectorAll(".set-display-pokemon")
            .forEach((button) => {
              if (!button.disabled) {
                button.addEventListener("click", handleSetDisplayPokemon);
              }
            });
        }
      }

      // --- Event Handlers & Logic ---
      function handleTabNavigation(e) {
        e.preventDefault();
        const tabName = e.currentTarget.dataset.tab;

        if (!pageContents[tabName]) {
          console.warn(`Content for tab '${tabName}' not found.`);
          return;
        }

        navLinks.forEach((nav) => {
          nav.classList.remove(
            "bg-teal-500/20",
            "text-teal-400",
            "border-l-4",
            "border-teal-400"
          );
          nav.classList.add(
            "text-gray-400",
            "hover:bg-gray-800/70",
            "hover:text-teal-400"
          );
        });
        e.currentTarget.classList.add(
          "bg-teal-500/20",
          "text-teal-400",
          "border-l-4",
          "border-teal-400"
        );
        e.currentTarget.classList.remove(
          "text-gray-400",
          "hover:bg-gray-800/70"
        );

        Object.values(pageContents).forEach(
          (content) => content && content.classList.add("hidden")
        );

        if (pageContents[tabName]) {
          pageContents[tabName].classList.remove("hidden");
        }
        // Refresh UI for the activated tab
        if (tabName === "profile") updateProfileUI();
        if (tabName === "habit-tracker") updateHabitTrackerUI();
        if (tabName === "pokedex") updatePokedexUI();
      }

      if (addHabitForm) {
        addHabitForm.addEventListener("submit", (e) => {
          e.preventDefault();
          const habitName = newHabitNameInput.value.trim();
          if (habitName) {
            userProfile.habits.push({
              id: Date.now(),
              name: habitName,
              streak: 0,
              completedToday: false,
            });
            newHabitNameInput.value = "";
            updateHabitTrackerUI();
            alert(`Habit "${habitName}" added!`);
          }
        });
      }

      function handleHabitComplete(e) {
        const habitId = parseInt(e.target.dataset.habitId);
        const habit = userProfile.habits.find((h) => h.id === habitId);
        if (habit && !habit.completedToday) {
          habit.completedToday = true;
          habit.streak++;
          userProfile.xp += 20; // Grant XP
          userProfile.pokemonTokens++; // Grant a token

          // Check for level up
          if (userProfile.xp >= userProfile.xpToNextLevel) {
            userProfile.level++;
            userProfile.xp -= userProfile.xpToNextLevel;
            userProfile.xpToNextLevel = Math.floor(
              userProfile.xpToNextLevel * 1.5
            ); // Increase XP for next level
            alert(`Level Up! You are now Level ${userProfile.level}!`);
          }
          if (habit.streak % 7 === 0 && habit.streak > 0) {
            // Bonus for 7-day streak
            userProfile.pokemonTokens += 2; // Bonus 2 tokens
            alert(
              `Amazing! 7-day streak bonus! You received 2 extra Pokemon Tokens!`
            );
          }

          updateHabitTrackerUI();
          updateProfileUI(); // XP and tokens might change
          alert(
            `Habit "${habit.name}" completed! +20 XP. +1 Token. Streak: ${habit.streak}`
          );
        }
      }

      function handleSetDisplayPokemon(e) {
        const pokemonId = e.target.dataset.pokemonId;
        const pokemonToDisplay = userProfile.pokemonCollection.find(
          (p) => p.id === pokemonId
        );

        if (!pokemonToDisplay) return;

        const emptySlotIndex = userProfile.displayedPokemonSlots.findIndex(
          (slot) => slot === null
        );
        if (emptySlotIndex !== -1) {
          userProfile.displayedPokemonSlots[emptySlotIndex] = pokemonToDisplay;
          pokemonToDisplay.displayed = true;
          pokemonToDisplay.slot = emptySlotIndex + 1;
          updatePokedexUI();
          updateProfileUI();
          alert(`${pokemonToDisplay.name} added to your party!`);
        } else {
          alert("Your party is full! Remove a Pokémon first to add a new one.");
        }
      }

      if (exchangeTokenButton) {
        exchangeTokenButton.addEventListener("click", () => {
          if (userProfile.pokemonTokens < 1) {
            alert("Not enough Pokemon Tokens!");
            return;
          }
          userProfile.pokemonTokens--;

          // Simulate Pokémon generation (Gen 1-6 are approx 721 Pokémon)
          // This is a very simplified representation
          const roll = Math.random() * 100;
          let newPokemon = {
            id: `p${Date.now()}`,
            name: "Magikarp",
            speciesId: 129,
            variant: "Normal",
            isLegendary: false,
            imagePlaceholder: "[IMG]",
          };

          const legendaryChance = 5; // 5%
          const variantChance = 1; // 1% (on top of normal/legendary)

          const isLegendaryRoll = Math.random() * 100 < legendaryChance;
          const isVariantRoll = Math.random() * 100 < variantChance;

          // Example Pokemon (replace with actual random selection from Gen 1-6)
          const commonPool = [
            { name: "Caterpie", sId: 10 },
            { name: "Pidgey", sId: 16 },
            { name: "Rattata", sId: 19 },
            { name: "Geodude", sId: 74 },
            { name: "Sentret", sId: 161 },
            { name: "Zigzagoon", sId: 263 },
          ];
          const legendaryPool = [
            { name: "Articuno", sId: 144 },
            { name: "Mewtwo", sId: 150 },
            { name: "Lugia", sId: 249 },
            { name: "Rayquaza", sId: 384 },
            { name: "Dialga", sId: 483 },
            { name: "Xerneas", sId: 716 },
          ];
          const variants = ["Shiny", "Dark", "Steel", "Mystic", "Shadow"];

          if (isLegendaryRoll) {
            const randomLegendary =
              legendaryPool[Math.floor(Math.random() * legendaryPool.length)];
            newPokemon = {
              ...newPokemon,
              name: randomLegendary.name,
              speciesId: randomLegendary.sId,
              isLegendary: true,
            };
          } else {
            const randomCommon =
              commonPool[Math.floor(Math.random() * commonPool.length)];
            newPokemon = {
              ...newPokemon,
              name: randomCommon.name,
              speciesId: randomCommon.sId,
              isLegendary: false,
            };
          }

          if (isVariantRoll) {
            newPokemon.variant =
              variants[Math.floor(Math.random() * variants.length)];
          }

          userProfile.pokemonCollection.push(newPokemon);

          // Update UI
          if (lastObtainedPokemonDiv && obtainedPokemonDetailsDiv) {
            obtainedPokemonDetailsDiv.innerHTML = `
                        <div class="w-12 h-12 bg-gray-600 rounded-md mr-3 flex items-center justify-center text-gray-400 text-xs">${
                          newPokemon.imagePlaceholder
                        }</div>
                        <div>
                            <p class="text-lg font-bold text-white">${
                              newPokemon.name
                            }</p>
                            <p class="text-sm ${
                              newPokemon.isLegendary
                                ? "text-legendary"
                                : newPokemon.variant !== "Normal"
                                ? `text-variant-${newPokemon.variant.toLowerCase()}`
                                : "text-gray-400"
                            }">${newPokemon.variant}${
              newPokemon.isLegendary ? " (Legendary!)" : ""
            }</p>
                        </div>
                    `;
            lastObtainedPokemonDiv.classList.remove("hidden");
          }
          updatePokedexUI();
          updateProfileUI(); // For token count
          alert(
            `You exchanged a token and received: ${newPokemon.name} (${
              newPokemon.variant
            }${newPokemon.isLegendary ? ", Legendary" : ""})!`
          );
        });
      }

      // --- Initial Setup ---
      navLinks.forEach((link) =>
        link.addEventListener("click", handleTabNavigation)
      );

      // Set default view (Dashboard) and initial UI updates
      if (pageContents.dashboard) {
        pageContents.dashboard.classList.remove("hidden");
      } else {
        console.error("Default dashboard view not found!");
      }
      updateProfileUI(); // Initial profile load
      updateHabitTrackerUI(); // Initial habits load
      updatePokedexUI(); // Initial pokedex load

      console.log(
        "Abel Experience™ Admin UI Loaded with Habit Tracker & Pokémon features. This is a static HTML representation."
      );
    </script>
  </body>
</html>
